# 代码使用说明
---
## 问题求解形式说明

目前我们提供了两种问题求解的形式，分别是 **Mean-Variance** 和 **Mean-Risk**（分别对应不同的文件夹）。

### 1. Mean-Variance 形式
在 **Mean-Variance** 形式中，我们还考虑到了**交易成本**因素。

#### 相关文件
- **mean_var_optimization.py**: 使用 `cuDF` 和 `CuPy` 从量价数据求平均对数收益率和协方差矩阵，然后优化求解。
- **launch_mean_var_optimization.py**: 直接从 CSV 文件（无表头纯数据文件）中读取平均对数收益率和协方差数据，然后进行优化。

### 2. Mean-Risk 形式
在 **Mean-Risk** 形式中，我们考虑了**无风险收益项**的因素。

#### 相关文件
- **mean_std_optimization.py**: 使用 `cuDF` 和 `CuPy` 从量价数据求平均对数收益率和协方差矩阵，然后优化求解。
- **launch_mean_std_optimization.py**: 直接从 CSV 文件（无表头纯数据文件）中读取平均对数收益率和协方差数据，然后进行优化。

## 股票价格数据的格式
当使用**mean_var_optimization.py**或**mean_std_optimization.py**直接从股价数据求解平均收益率和协方差矩阵时，股价数据（DataFrame）的格式如下：
| DATE_TIME           | 000001.SZ | 000002.SZ | 000004.SZ | 000005.SZ | 000006.SZ | 000007.SZ | 000008.SZ | 000009.SZ | 000010.SZ | 000011.SZ |
|---------------------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|
| 2022-01-04 09:25:00 | 16.48     | 19.49     | 19.41     | 2.30      | 4.45      | 6.25      | 2.96      | 14.64     | 3.75      | 11.64     |
| 2022-01-04 09:30:00 | 16.46     | 19.48     | 19.52     | 2.30      | 4.44      | 6.14      | 2.86      | 14.58     | 3.77      | 11.50     |
| 2022-01-04 09:31:00 | 16.37     | 19.40     | 19.48     | 2.29      | 4.42      | 6.10      | 2.94      | 14.50     | 3.77      | 11.48     |
| 2022-01-04 09:32:00 | 16.27     | 19.39     | 19.50     | 2.29      | 4.42      | 6.16      | 2.96      | 14.45     | 3.78      | 11.49     |
| 2022-01-04 09:33:00 | 16.31     | 19.41     | 19.54     | 2.29      | 4.43      | 6.16      | 2.91      | 14.37     | 3.77      | 11.55     |

注：代码对此股价数据的索引标题和数据列的标题无任何要求；对股价数据的列数也没有任何要求。

## 关于代码Markdown文件中LaTeX公式无法显示问题
请将代码下载到本地，并使用VSCode打开。
请在VSCode中安装LaTeX支持的插件以正常显示。

## 目的与扩展
提供这两种求解形式的目的旨在为实际求解提供代码参考。更多实际的约束条件或更复杂的目标函数需要您自己搭建（也欢迎随时联系我们）。
